---
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import Layout from '../layouts/Layout.astro';
import Visor from "../components/Visor.astro";
import MapSection from '../components/MapSection.astro';
---

<Layout>
	<main class="h-screen">
		<Navbar />
		<section class="min-h-screen flex items-center justify-center px-4 py-8" id="main-section">
        <div class="max-w-7xl mx-auto w-full">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                <!-- Contenido izquierdo -->
                <div class="text-center lg:text-left space-y-6">
                    <!-- Título -->
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight">
                        Explora el
                        <span class="text-blue-600">Mapa interactivo</span>
						de la UCT
                    </h1>
                    
                    <!-- Subtítulo -->
                    <p class="text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto lg:mx-0">
                        Recorre nuestro campus de manera digital. Encuentra aulas, bibliotecas, 
						cafeterias y mucho más desde cualquier dispositivo.
                    </p>
                    
                    <!-- Botones -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <button class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl">
                            Ver mapa
                        </button>
                        <button class="border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg font-semibold text-lg hover:border-gray-200 hover:scale-105 hover:bg-gray-50 transition-all duration-200">
                            Más Información
                        </button>
                    </div>
                </div>
                
                <!-- Imagen derecha -->
                <div class="relative order-first lg:order-last">
                    <img src="/Monitos.svg" alt="Estudiantes UCT" width={700} height={500} class="object-contain"/>
                </div>
            </div>
        </div>
    <!-- Botón de desplazamiento -->
		<div class="absolute bottom-10 left-1/2 transform -translate-x-1/2">
			<a href="#visor-section" class="scroll-btn w-16 h-16 bg-yellow-400 hover:bg-yellow-500 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 group">
        	<svg class="w-6 h-6 text-white bounce-arrow group-hover:translate-y-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        	</svg>
    		</a>
		</div>
		

    </section>
  </main>

	<section class="flex items-center bg-gray-200 h-screen" id="visor-section">
		<div class=" justify-center w-full h-[60vh] md:w-[70vw] md:h-[80vh] mx-auto mt-15">
			<Visor />
		</div>
	</section>
    
	<MapSection />

	<Footer />
</Layout>
<script>
      import Lenis from 'lenis';

      // Inicializar Lenis cuando el DOM esté listo
      document.addEventListener('DOMContentLoaded', function() {
        const lenis = new Lenis({
          duration: 1.2,
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
          smooth: true
        });

        // Loop de animación para Lenis
        function raf(time) {
          lenis.raf(time);
          requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // Configurar todos los botones de scroll
        const scrollButtons = document.querySelectorAll('[href^="#"]');
        scrollButtons.forEach(button => {
          button.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href.startsWith('#')) {
              e.preventDefault();
              lenis.scrollTo(href);
            }
          });
        });
      });
    </script>